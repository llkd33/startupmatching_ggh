# 접근성(A11y) 개선 가이드

## ✅ 구현된 개선사항

### 1. 모바일 최적화
- **MobileBottomNav 컴포넌트** - 모바일 전용 하단 네비게이션 추가
- **터치 타겟** - 최소 44x44px 보장
- **반응형 테이블** - 기존 ResponsiveTable 컴포넌트 활용

### 2. CSS 유틸리티 추가
```css
/* 터치 친화적 인터랙션 */
.touch-manipulation

/* 최소 터치 타겟 크기 */
.min-touch-target

/* 스크린 리더 전용 텍스트 */
.sr-only

/* 포커스 표시 */
.focus-visible

/* 부드러운 트랜지션 */
.transition-smooth
```

---

## 🔍 주요 컴포넌트 접근성 체크리스트

### ✅ 완료된 항목

#### MobileBottomNav
- [x] ARIA navigation role
- [x] ARIA labels
- [x] aria-current 상태
- [x] 터치 타겟 최소 44x44px
- [x] aria-hidden 아이콘

#### EmptyState
- [x] ARIA labels
- [x] 터치 타겟 최소 44x44px

---

## 📋 추가 개선 권장사항

### 1. Button 컴포넌트

**현재:**
```tsx
<Button onClick={handleClick}>
  <Trash2 />
  삭제
</Button>
```

**개선:**
```tsx
<Button 
  onClick={handleClick}
  aria-label="캠페인 삭제"
  aria-describedby="delete-help"
>
  <Trash2 aria-hidden="true" />
  <span>삭제</span>
</Button>
<span id="delete-help" className="sr-only">
  캠페인을 영구적으로 삭제합니다
</span>
```

### 2. Input/Form 컴포넌트

**개선:**
```tsx
<Label htmlFor="email">이메일</Label>
<Input
  id="email"
  type="email"
  aria-required="true"
  aria-invalid={errors.email ? "true" : "false"}
  aria-describedby={errors.email ? "email-error" : "email-help"}
/>
{errors.email && (
  <span id="email-error" className="text-red-600 text-sm">
    {errors.email.message}
  </span>
)}
<span id="email-help" className="sr-only">
  회사 이메일을 사용해주세요
</span>
```

### 3. Loading States

**개선:**
```tsx
{loading && (
  <>
    <SkeletonDashboard />
    <div 
      role="status" 
      aria-live="polite" 
      aria-label="데이터 로딩 중"
      className="sr-only"
    >
      데이터를 불러오는 중입니다
    </div>
  </>
)}
```

### 4. Error States

**개선:**
```tsx
{error && (
  <div 
    role="alert" 
    aria-live="assertive"
    className="border-red-200 bg-red-50 p-4 rounded-lg"
  >
    <AlertCircle className="w-5 h-5 text-red-600" aria-hidden="true" />
    <p className="text-red-800">{error.message}</p>
    {error.action && (
      <Button onClick={error.action} className="mt-2">
        {error.actionLabel}
      </Button>
    )}
  </div>
)}
```

### 5. Modal/Dialog

**개선:**
```tsx
<Dialog>
  <DialogContent
    role="dialog"
    aria-modal="true"
    aria-labelledby="dialog-title"
    aria-describedby="dialog-description"
  >
    <DialogTitle id="dialog-title">삭제 확인</DialogTitle>
    <p id="dialog-description">
      정말 이 캠페인을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.
    </p>
    <DialogFooter>
      <Button variant="outline">취소</Button>
      <Button variant="destructive">삭제</Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

### 6. Table 컴포넌트

**개선:**
```tsx
<table>
  <caption className="sr-only">캠페인 목록</caption>
  <thead>
    <tr>
      <th scope="col">캠페인명</th>
      <th scope="col">상태</th>
      <th scope="col">예산</th>
      <th scope="col" className="sr-only">액션</th>
    </tr>
  </thead>
  <tbody>
    {campaigns.map((campaign) => (
      <tr key={campaign.id}>
        <td>
          <Link href={`/campaigns/${campaign.id}`}>
            {campaign.title}
          </Link>
        </td>
        <td>
          <Badge>{campaign.status}</Badge>
        </td>
        <td>{formatBudget(campaign.budget)}</td>
        <td>
          <Button
            aria-label={`${campaign.title} 삭제`}
            onClick={() => handleDelete(campaign.id)}
          >
            <Trash2 aria-hidden="true" />
          </Button>
        </td>
      </tr>
    ))}
  </tbody>
</table>
```

---

## 🧪 접근성 테스트 방법

### 1. 키보드 네비게이션
- `Tab`: 다음 포커스 가능 요소로 이동
- `Shift + Tab`: 이전 포커스 가능 요소로 이동
- `Enter/Space`: 버튼 활성화
- `Escape`: 모달 닫기

### 2. 스크린 리더 테스트
```bash
# macOS VoiceOver
Command + F5

# Windows NVDA
https://www.nvaccess.org/

# Chrome 확장 프로그램
Lighthouse
WAVE
axe DevTools
```

### 3. 자동 테스트
```bash
# 접근성 ESLint 플러그인
npm install -D eslint-plugin-jsx-a11y

# Playwright 접근성 테스트
npm install -D @axe-core/playwright
```

**테스트 예시:**
```typescript
import { injectAxe, checkA11y } from 'axe-playwright'

test('should not have accessibility violations', async ({ page }) => {
  await page.goto('/dashboard')
  await injectAxe(page)
  await checkA11y(page)
})
```

---

## 🎯 WCAG 2.1 AA 준수 체크리스트

### Level A (필수)
- [x] 모든 이미지에 alt 텍스트
- [x] 색상에 의존하지 않는 정보 전달
- [x] 키보드 네비게이션 가능
- [ ] 포커스 순서가 논리적
- [x] 에러 메시지 명확히 표시

### Level AA (권장)
- [ ] 색상 대비 비율 4.5:1 이상
- [ ] 텍스트 크기 조절 가능 (최대 200%)
- [ ] 포커스 표시 명확
- [x] ARIA labels 적절히 사용
- [ ] 명확한 페이지 제목

---

## 🔧 빠른 개선 팁

### 1. 아이콘 버튼
```tsx
// ❌ 나쁜 예
<Button>
  <X />
</Button>

// ✅ 좋은 예
<Button aria-label="닫기">
  <X aria-hidden="true" />
</Button>
```

### 2. 필수 필드 표시
```tsx
// ❌ 나쁜 예
<Label>이름 *</Label>

// ✅ 좋은 예
<Label>
  이름
  <span aria-label="필수">*</span>
</Label>
<Input aria-required="true" />
```

### 3. 로딩 상태
```tsx
// ✅ 좋은 예
<Button disabled={isLoading}>
  {isLoading ? (
    <>
      <Loader2 aria-hidden="true" className="animate-spin" />
      <span className="sr-only">저장 중...</span>
      저장 중...
    </>
  ) : (
    '저장'
  )}
</Button>
```

---

## 📚 참고 자료

- [WAI-ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/)
- [WCAG 2.1 Guidelines](https://www.w3.org/WCAG21/quickref/)
- [A11y Project](https://www.a11yproject.com/)
- [WebAIM](https://webaim.org/)
- [MDN Accessibility](https://developer.mozilla.org/en-US/docs/Web/Accessibility)

---

## 🎯 다음 단계

1. ✅ 모바일 최적화 완료
2. 🔄 접근성 개선 진행중
3. ⏭️ 로딩/에러 UI 개선
4. ⏭️ 전체 테스트 및 검증

