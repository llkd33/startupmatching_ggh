# 기능적 업데이트 필요 사항

**작성일**: 2025-01-27  
**분석 범위**: 전체 코드베이스

---

## 🔴 우선순위 1: 즉시 수정 필요

### 1. 알림 시스템 미완성

#### 문제점
- 제안서 상태 변경 시 전문가에게 알림이 전송되지 않음
- 채팅 메시지 수신 시 알림 미전송
- TODO 주석으로만 표시됨

#### 위치
```typescript
// src/components/proposal/ProposalList.tsx:49
// TODO: Send notification to expert

// src/components/chat/ChatWindow.tsx:56
// TODO: Send notification to receiver
```

#### 해결 방안
1. **제안서 상태 변경 알림**
   - `ProposalList.tsx`의 `handleStatusUpdate` 함수에 알림 전송 로직 추가
   - 상태 변경 시 전문가에게 이메일/인앱 알림 전송
   - 알림 타입: `proposal_status_changed`

2. **채팅 메시지 알림**
   - `ChatWindow.tsx`의 메시지 전송 시 수신자에게 알림 전송
   - 실시간 알림 (Supabase Realtime 활용)
   - 읽지 않은 메시지 배지 업데이트

#### 예상 작업 시간
- 제안서 알림: 2-3시간
- 채팅 알림: 3-4시간

---

### 2. 폼 검증 미적용

#### 문제점
- `SignUpForm`에만 실시간 검증 적용됨
- 다른 주요 폼들은 여전히 제출 시에만 검증
- 사용자 경험 불일치

#### 미적용 폼 목록
1. **CampaignForm** (`src/components/campaign/CampaignForm.tsx`)
   - 캠페인 생성/수정 폼
   - 필수 필드 검증 부족
   - 날짜 범위 검증 없음

2. **ProposalForm** (`src/components/proposal/ProposalForm.tsx`)
   - 제안서 작성 폼
   - 실시간 검증 없음
   - 파일 업로드 검증 부족

3. **ExpertProfileForm** (`src/components/expert/ExpertProfileForm.tsx`)
   - 전문가 프로필 편집 폼
   - 실시간 검증 없음

4. **OrganizationProfileForm** (`src/components/organization/OrganizationProfileForm.tsx`)
   - 기관 프로필 편집 폼
   - 실시간 검증 없음

5. **LoginForm** (`src/components/auth/LoginForm.tsx`)
   - 로그인 폼
   - 이메일 형식 검증 부족

6. **ForgotPasswordForm** (`src/components/auth/ForgotPasswordForm.tsx`)
   - 비밀번호 재설정 폼
   - 이메일 검증 부족

#### 해결 방안
- 모든 폼에 `useFormValidation` 훅 적용
- 실시간 필드별 검증 추가
- 명확한 에러 메시지 표시
- 성공 피드백 추가

#### 예상 작업 시간
- 폼당 1-2시간 × 6개 = 6-12시간

---

### 3. 에러 리포팅 시스템 미통합

#### 문제점
- 에러 발생 시 Sentry 등 외부 서비스로 전송하지 않음
- TODO 주석으로만 표시됨

#### 위치
```typescript
// src/lib/error-handler.ts:684
// TODO: Send to error reporting service

// src/components/errors/ErrorBoundary.tsx:32
// TODO: Integrate with Sentry or other error reporting service

// src/components/errors/GlobalErrorProvider.tsx:87
// TODO: Send to Sentry or other error reporting service
```

#### 해결 방안
1. **Sentry 통합** (권장)
   - 프로덕션 환경에서만 활성화
   - 에러 추적 및 알림 설정
   - 사용자 컨텍스트 정보 포함

2. **대안: 자체 로깅 시스템**
   - Supabase에 에러 로그 저장
   - 관리자 대시보드에서 확인

#### 예상 작업 시간
- Sentry 통합: 3-4시간
- 자체 로깅: 4-6시간

---

## 🟡 우선순위 2: 빠른 개선 (1-2주 내)

### 4. 자동 저장 기능 부재

#### 문제점
- 긴 폼 작성 중 브라우저 종료 시 데이터 손실
- 사용자 경험 저하

#### 적용 필요 폼
1. **CampaignForm** - 캠페인 생성 (많은 필드)
2. **ProposalForm** - 제안서 작성 (긴 텍스트)
3. **ExpertProfileForm** - 프로필 편집 (다단계)

#### 해결 방안
- `localStorage` 또는 `sessionStorage` 활용
- 주기적 자동 저장 (debounce)
- 페이지 로드 시 저장된 데이터 복원
- 저장 상태 표시

#### 예상 작업 시간
- 폼당 2-3시간 × 3개 = 6-9시간

---

### 5. 파일 업로드 검증 및 피드백 부족

#### 문제점
- 파일 크기 제한 검증 부족
- 파일 형식 검증 부족
- 업로드 진행률 표시 없음
- 업로드 실패 시 명확한 에러 메시지 없음

#### 해결 방안
1. **파일 검증**
   - 최대 파일 크기 제한 (예: 10MB)
   - 허용된 파일 형식 검증
   - 이미지 리사이징 (선택)

2. **사용자 피드백**
   - 업로드 진행률 표시
   - 성공/실패 토스트 알림
   - 미리보기 기능

#### 예상 작업 시간
- 4-6시간

---

### 6. 검색 및 필터 기능 개선

#### 문제점
- 실시간 검색 자동완성 없음
- 필터 상태 표시 부족
- 저장된 검색 기능 없음
- 고급 검색 옵션 부족

#### 해결 방안
1. **자동완성**
   - 검색어 입력 시 실시간 제안
   - 인기 검색어 표시

2. **필터 개선**
   - 활성 필터 배지 표시
   - 필터 초기화 버튼
   - 필터 저장 기능

3. **고급 검색**
   - 날짜 범위 필터
   - 다중 조건 검색
   - 검색 결과 정렬 옵션

#### 예상 작업 시간
- 8-12시간

---

### 7. 데이터 페칭 최적화

#### 문제점
- 불필요한 재요청
- 캐싱 전략 부족
- 로딩 상태 불일치

#### 해결 방안
1. **React Query 도입** (권장)
   - 자동 캐싱 및 재요청 최적화
   - 로딩/에러 상태 관리
   - Optimistic Updates

2. **또는 SWR 사용**
   - 가벼운 대안
   - 자동 재검증

#### 예상 작업 시간
- React Query 도입: 8-10시간
- SWR 도입: 6-8시간

---

## 🟢 우선순위 3: 점진적 개선 (1개월 내)

### 8. 온보딩 프로세스 개선

#### 문제점
- 첫 사용자 가이드 없음
- 프로필 완성도 표시 없음
- 단계별 진행 상황 표시 부족

#### 해결 방안
1. **온보딩 위저드**
   - 첫 로그인 시 가이드 표시
   - 단계별 진행 상황 표시
   - "나중에" 옵션 제공

2. **프로필 완성도**
   - 완성도 미터 표시
   - 다음 단계 제안
   - 완성도에 따른 혜택 안내

#### 예상 작업 시간
- 12-16시간

---

### 9. 알림 센터 UI 개선

#### 문제점
- 알림 목록 UI 기본적
   - 알림 읽음/안 읽음 구분 부족
   - 알림 필터링 기능 없음
   - 알림 설정 페이지 없음

#### 해결 방안
1. **알림 센터**
   - 읽음/안 읽음 구분
   - 알림 타입별 필터
   - 일괄 읽음 처리

2. **알림 설정**
   - 알림 타입별 on/off
   - 이메일 알림 설정
   - 푸시 알림 설정 (향후)

#### 예상 작업 시간
- 8-10시간

---

### 10. 대시보드 위젯 커스터마이징

#### 문제점
- 대시보드 레이아웃 고정
- 위젯 추가/제거 불가
- 데이터 시각화 부족

#### 해결 방안
1. **커스터마이징**
   - 위젯 드래그 앤 드롭
   - 위젯 크기 조절
   - 위젯 추가/제거

2. **데이터 시각화**
   - 차트 추가 (Recharts 활용)
   - 통계 그래프
   - 트렌드 분석

#### 예상 작업 시간
- 16-20시간

---

### 11. 실시간 업데이트 개선

#### 문제점
- 일부 기능만 실시간 업데이트
- 실시간 연결 상태 표시 없음
- 오프라인 모드 지원 없음

#### 해결 방안
1. **실시간 연결 상태**
   - 연결 상태 표시
   - 재연결 시도 안내

2. **오프라인 모드**
   - Service Worker 활용
   - 오프라인 큐
   - 오프라인 상태 표시

#### 예상 작업 시간
- 12-16시간

---

## 📊 우선순위별 작업 요약

### 우선순위 1 (즉시)
1. 알림 시스템 완성 - **5-7시간**
2. 폼 검증 적용 - **6-12시간**
3. 에러 리포팅 통합 - **3-6시간**
**총: 14-25시간 (2-3일)**

### 우선순위 2 (1-2주)
4. 자동 저장 기능 - **6-9시간**
5. 파일 업로드 개선 - **4-6시간**
6. 검색/필터 개선 - **8-12시간**
7. 데이터 페칭 최적화 - **6-10시간**
**총: 24-37시간 (3-5일)**

### 우선순위 3 (1개월)
8. 온보딩 개선 - **12-16시간**
9. 알림 센터 UI - **8-10시간**
10. 대시보드 커스터마이징 - **16-20시간**
11. 실시간 업데이트 - **12-16시간**
**총: 48-62시간 (6-8일)**

---

## 🎯 권장 작업 순서

### Week 1: 핵심 기능 완성
1. 알림 시스템 완성 (제안서, 채팅)
2. 주요 폼 검증 적용 (CampaignForm, ProposalForm)
3. 에러 리포팅 통합

### Week 2: 사용자 경험 개선
4. 자동 저장 기능
5. 파일 업로드 개선
6. 검색/필터 개선

### Week 3-4: 최적화 및 고급 기능
7. 데이터 페칭 최적화
8. 온보딩 개선
9. 알림 센터 UI

---

## 📝 참고 사항

- 모든 작업은 기존 코드 스타일과 일관성 유지
- TypeScript 타입 안정성 보장
- 접근성 (a11y) 고려
- 모바일 반응형 유지
- 테스트 코드 작성 권장

---

**다음 단계**: 우선순위 1 항목부터 순차적으로 진행하는 것을 권장합니다.

